{
  "$schema": "http://json-schema.org/schema#",
  "properties": {
    "service": {
      "type": "object",
      "description": "DC/OS service configuration properties",
      "properties": {
        "name": {
          "description": "Name of this Wekan instance",
          "type": "string",
          "default": "wekan"
        }
      }
    },
    "wekan": {
      "type": "object",
      "description": "Wekan base configuration properties",
      "properties": {
        "cpus": {
          "description": "CPU shares to allocate to this Wekan instance.",
          "type": "number",
          "default": 0.3,
          "minimum": 0.3
        },
        "mem": {
          "description": "Memory to allocate to this Wekan instance.",
          "type": "number",
          "default": 512.0,
          "minimum": 512.0
        }
      },
      "required": [
        "cpus",
        "mem"
      ]
    },
    "storage": {
      "type": "object",
      "description": "Wekan storage configuration properties",
      "properties":{    
        "host_volume": {
          "description": "The location of a volume on the host to be used for persisting Wekan data. This does not include the data stored in the external MongoDB database. The final location will be derived from this value plus the name set in `name` (e.g. `/mnt/host_volume/mysql`). This can be a mounted NFS drive. Note that this path must be the same on all DC/OS agents.",
          "type": "string",
          "default": "/tmp"
        },
        "persistence": {
          "type": "object",
          "description": "Enable persistent storage.",
          "properties": {    
            "enable": {
              "description": "Enable or disable persistent storage.",
              "type": "boolean",
              "default": false                    
            },
            "volume_size": {
              "description": "If a new volume is to be created, this controls its size in MBs.",
              "type": "number",
              "default": 64
            }
          }
        },
        "mongodb":{
          "description": "URL of a MongoDB database to connect to.",
          "type": "string",
          "default": "mongodb://mongodb.marathon.l4lb.thisdcos.directory"
        }
      }
    },
    "networking": {
      "type": "object",
      "description": "Wekan networking configuration properties",
      "properties": {    
        "external_access": {
          "type": "object",
          "description": "Enable access from outside the cluster through Marathon-LB.\nNOTE: this connection is unencrypted.",
            "properties": {    
              "enable": {
                "description": "Enable or disable creating a VIP for external access through a public node running Marathon-LB. Defaults to FALSE.",
                "type": "boolean",
                "default": false                    
              },
              "external_port": {
                "description": "For external access, port number to be used for clear communication in the external Marathon-LB load balancer",
                "type": "number",
                "default": 13306
              },
              "virtual_host": {
                "description": "For external access, Virtual Host URL to be used in the external load balancer.",
                "type": "string",
                "default": "postgresql.example.org"
              }
            }
          }
      }      
    }
  }
}